General Information
-------------------------------------------------------------------------------------------------------------------------------------------------
My name is John Liu and this is my ICS3U culminating project, which was completed on June 18, 2022, called "The Shatters: Equilibrium".
This game is intended as a sequel to the original concept, named "The Shatters: Unbreakable" featuring the Bridge Sentinel as its boss.

And most of the concepts and mechanics are taken from Realm of the Mad God, and both bosses are based on the Shatters dungeon. Maybe
I'll finish the series with the final boss of the dungeon for grade 12 :) 

Rules/Description:
-------------------------------------------------------------------------------------------------------------------------------------------------
This game is a bullet-hell style shooter game. 

TLDR: this link https://www.realmeye.com/wiki/twilight-archmage also includes info about Nox, the Wild Shadow 
Skip to line 114 if you don't care

A sorcerer, who the player controls, journeys towards the center of the long-forgotten Shattered Kingdom for unknown reasons. After defeating 
the Bridge Sentinel, the sorcerer faces off against the boss of this game. Known as the Twilight Archmage, he is the chief alchemist of 
the Shatters. Being extremely adept in both fire and ice magic, he trained the kingdom’s mages for combat application. When he heard of 
his king’s aspirations for conquest, the archmage suggested that he commune with an entity from the dimension of lost souls to grant him
otherworldly power.

The fight takes place in an octagonal room with the archmage at the center. He is surrounded by three unsealed Magi-generators that amplify
either his fire or ice powers. Throughout the fight, there will be windows when these generators can be destroyed, sealing them. When this 
happens, the element of the generator is locked and cannot be changed for the rest of the fight. 

The archmage will always channel for a significant period of time before starting an attack. After this, all unsealed generators will randomly
choose between fire and ice. After a charging period, he will choose from one of 4 possible attacks for each element, with each one having its
own unique incantation that can help predict it. Two of these are regular “Majority” attacks, but if all three generators choose the same element,
he will instead use one of two stronger “Nuke” attacks that have the Archmage spread his arms and elevate his orb as an additional telegraph. 
Each attack is time-based, with the Archmage immediately charging up another once one finishes. 

Fire Attacks:

Fire Majority 1 - Incantation: “Firos Xiflis’TOh Dristatiks Quantinoftus!”, "Bomb Rotates"
The archmage will summon five fire portals that rotate outwards, shooting armour-breaking fire shots inwards to form a five-armed spiral. 
The archmage himself will fire waves of slow-moving fire vortexes that scorch while throwing rings of firebombs at close, medium, and far 
distances on a cycle.

Fire Majority 2 - Incantation: "Firos Xiflis’TOh Gantsualo Quantinoftus!", "Vomits"
The archmage will summon three fire portals that rotate close to him, firing chaotic pulses of fire shots. Some of these shots break armour.
The archmage himself will shoot slow-moving fire waves while rapidly, sporadically launching firebombs all over the room.

Fire Nuke 1 - Incantation: “Firos Xiflis’TOh Wavunwavun Quantinoftus!”, "Popcorns"
The archmage will summon eight fire portals that pulse short-range, armour-breaking fire shots that prevent the player from hugging walls. 
The archmage himself will unleash a chaotic barrage of fire twirls that follow a turning trajectory and slow-moving fire vortexes that
inflict scorch. The archmage will also summon lines of accelerating purple shurikens from the edges of the room towards himself that 
deal high damage. 

Fire Nuke 2 - Incantation: "Firos Xiflis’TOh Pridigioc Quantinoftus!", "Firewalls"
The archmage will summon eight fire portals that pulse short-range, armour-breaking fire shots that prevent the player from hugging walls. 
The archmage himself will first telegraph a direction by firing a stream of fire waves along the horizontal or vertical axis of the room.
Then, waves of fire will fly across the room with narrow gaps to dodge between. The archmage will also be launching waves of slow-moving
blue shurikens that inflict slow. Periodically, the archmage will stop this attack to cover the room in firebombs. 

Ice Attacks:

Ice Majority 1 - Incantation: “Toahc Xifls’ToH Rigroatah Qualtinoc!”, "Portals"
The archmage will summon ice portals in groups of four in the cardinal or diagonal directions. These ice portals will periodically fire
pulses of cardinal or directional blasts of ice waves that inflict slow. The archmage himself will periodically shoot a burst of three 
rings of ice twirls that follow a turning trajectory.

Ice Majority 2 - Incantation: “Toahc Xifls’ToH Puroktis Qualtinoc!”, "Miasma"
The archmage will summon sixteen ice portals that start in a cross shape, but rotate in opposite directions. These portals will periodically
fire blasts of ice waves that inflict slow and ice bolts that inflict curse. The archmage himself will shoot waves of ice vortexes that
deal devastating damage, especially when the player is cursed.

Ice Nuke 1 - Incantation: “Toahc Xifls’ToH Nosdrol Qualtinoc!”, "Arena"
The archmage will summon four ice portals that will occasionally shoot dense rings of ice bolts that inflict curse to prevent the player
from leaving the "arena". The archmage will then summon ice stars from the outside and inside of the room, trapping the player in a circle. 
The archmage himself will shoot out "spears" of armour-breaking ice shots in groups of 3, 6, or 8.

Ice Nuke 2 - Incantation: "Toahc Xifls'ToH Merilmeril Qualtinoc!", "Squares"
The archmage will summon eight ice portals that fire accelerating, turning ice clusters all around the room. The archmage himself will
do the same thing while throwing ice spheres around the room.

Sickens/Staggers:

When the archmage is ABOVE 70% hp, he will be vulnerable during his attacks. 

UPON reaching 70% hp, the archmage will sicken the player while the generators pulse rings of purple waves that inflict curse. This phase ends
when the player locks in a generator.

When the archmage is ABOVE 40% hp, he will be INVULNERABLE during his attacks, instead summoning Inferno or Blizzard based on the dominant
element of the attack. The archmage is staggered when the bird is killed, making him vulnerable to damage. He is damage capped at 15% of his
maximum hp. When staggered, the archmage does not attack but the birds defend him to compensate.

UPON reaching 40% hp, the archmage will sicken the player. In addition to everything from the first sicken phase, the archmage himself will pulse
rings of blue waves that inflict armour break. This is significantly worse than curse, as it both stacks with it and deals more damage to 
the player, who is already sickened. This phase ends when the player locks in a generator.

When the archmage is ABOVE 10% hp, he will be INVULNERABLE during his attacks, instead summoning both birds. The archmage is staggered only
when both birds are killed. If only one bird is dead at the end of a phase, it will respawn on the next attack with full health. Simiarly, both 
birds defend the archmage when staggered, but their fire rates are reduced. 

UPON reaching 10% hp, the archmage will sicken the player. This phase is similar to the second sicken phase, but the blue rings are much denser
and fire much faster. This phase ends when the player locks in a generator.

Once all three generators are locked, the archmage begins the "pre-finale", when both birds must be killed to progress the fight. This phase
involves the subdominant bird circling around the outside of the room, shooting daggers that follow a sinusoidal pattern. After this bird dies, the
dominant bird circles around the center of the room, while the archmage fires waves of ice or fire, and throws firebombs or ice spheres.

After both birds die, the archmage heals to 20% hp and starts a finale attack. He is invulnerable for the first 8 seconds of this attack. The player 
wins when the archmage hits 0% hp, but the shots do not disappear.

FIRE FINALE: The archmage divides the room horizontally with a line of fire waves as eight fire portals rotate counterclockwise around the edges of 
the room, firing short-ranged shots to make staying at the edges fatal. Each of the lines of fire waves then splits into a large number of smaller 
segments which start traveling around the room in circular patterns, with each segment circling at a different distance from the middle, forming a 
dense network of rotating shots that players must weave through. The archmage will also periodically be throwing firebombs, and will also pulse with
short-ranged fire waves.

ICE FINALE: The archmage spawns eight ice portals that rotate counterclockwise around the perimeter, firing an extremely dense, randomized barrage of
ice twirls and icy vortexes inwards. The portals also fire out spreads of ice bolts behind them to stop players from hiding behind them. The archmage
himself will also be periodically launching ice spheres at the player.

Game states/screens
-------------------------------------------------------------------------------------------------------------------------------------------------
Main screen
How-to page
Credits page
Stats page
Main game

Program Information
-------------------------------------------------------------------------------------------------------------------------------------------------
It should be mentioned that I didn't add many comments for the files that aren't Main.java, Archmage.java, and Sorcerer.java. The rest will definitely
become really repetitve and are pretty straightforward. However, I did comment for Blue_Ball.java, so imagine the rest of the projectile classes having
the exact same comments. 

Known bugs: 

Sometimes, projectiles will unintentionally "jut backwards". I think this is because of an issue with the arrays that I use and how I 
iterate through them, but I haven't been able to find a fix. The hitboxes and coordinates appear to be unmodified, though. This probably means that
it isn't an issue with the math or my parametric equations. It could have something to do with the first in the list of every type of bullet, but
that doesn't consistently happen. 

The elemental orbs in the main screen sometimes don't listen to the mouse (they're supposed to follow your mouse and accelerate towards it). This
happens like once every hour and I haven't been able to reproduce this effect consistently so I have no idea why it happens. 

Things I didn't (but might) implement:

I decided not to add a "hard mode" like I did for the Bridge Sentinel. The "hard mode" from Realm of the Mad God reveals the Archmage's true name 
to be Nox, the Wild Shadow. The boss fight is considered to be the hardest boss in the game (yes, even harder than the third boss), and would have
been a lot more complicated than coding Valen, the Unbreakable. Again, I might do it in grade 12, though. 

The ice vortexes were intended to inflict a "darkness" effect, which is the purpose of the semitransparent "blackbox" image. As you could imagine,
though, this caused a lot of lag and I removed it. I was thinking of integrating the lag into the status effect, but I decided that it wasn't 
consistent enough to use. 

I feel like this fight is harder to optimize for a speedrun, as there's a lot of rng involved and aiming isn't supposed to be that hard, so I 
did not add a speedrun method as my text file streaming. Instead, I opted for a stats page. 

Testing/Running the game:

For testing, I would recommend changing the values of the "multiplier" array in the Sorcerer class from {1, 1} to {3, 3}. This will
triple the sorcerer's health, regeneration, and damage (the game is intended to be really hard; even I can't consistently beat it)

Easter egg: If you go to the credits page then click on the "me" text, the sorcerer's wand will be replaced with an image of me imitating the "poggers"
emote. It fires slowly and the bullets are clumsy and large, but its overall dps is slightly higher than the regular one. However, I don't think the 
increase is worth it because of the incredibly slow bullet speed. 

and I named the window ":nicky:", this is intentional and is intended to be very funny. 



ok i think thats all
thanks for everything and have a great summer, i had a great time taking this course (twice!)

